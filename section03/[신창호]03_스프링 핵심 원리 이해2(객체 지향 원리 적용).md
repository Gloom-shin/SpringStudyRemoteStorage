# 스프링의 강의 리뷰📽
> LoadMap Part : 스프링 핵심원리 - 기본편   
> Section : 03. 스프링 핵심 원리 이해2(객체 지향 원리 적용)  
> CreateDate : 2022.06.11  
> UpdateDate :

# 03.스프링 핵심 원리 이해2
 - 스프링 없이 자바 프로젝트로 코드작성에 대해 문제점을 파악하고
 - 해결방법을 이해하고, 스프링으로 구현해보는 섹션이다.
<br></br>

## 새로운 할인 정책 개발
 > 할인 정책을 1000원 할인에서, 10%로 전환해야한다.

### 설계 
 - RateDiscountPolicy 추가
<img src="https://user-images.githubusercontent.com/104331549/173220385-fc475e97-4a1c-4a1f-ab2d-668b806edfc2.png">

### 구현
 - 인터페이스는 `DiscountPolicy`로 이미 역할은 만들어 놨음으로, 구현만 만들면된다.
#### 단위테스트
 - `ctrl`+`alt`+`T` 로 구현된 부분을 단위테스트를 통해 확인한다. 
 - 성공테스트, 실패테스트 다 해본다.
<br></br>

## 문제점 발견!
 - 새로운 할인 정책을 적용하기 위해서, 할인 해주는 역할(`DiscountPolicy`)에서 할인 구현체를 바꿔줘야한다.
 - 기존의 할인 정책(`FixDiscountPolicy`)를 바뀐 할인 정책(`RateDiscountPolicy`)로 바꿔 주면된다. 
> 하지만, OCP, DIP의 원칙을 준수했으면서, 위반을 하였다.
 - 구현 변경시 코드도 변경해야한다. 
 - 클라이언트가 인터페이스(추상)도 의존하고, 구현(구체) 클래스도 의존한다.  
<p align="center"><img src="https://user-images.githubusercontent.com/104331549/173221141-0ecc5161-c856-473d-bd44-a46287414df2.png" width ="70%"></p>  

 - ex. 기름차를 타다가 전기차로 바꿨을때, 기름차 라이센스에서 전기차 라이센스가 필요해버린 격..
 
### 문제점 해결방안 
 - 이 문제를 해결하려면 누군가가 클라이언트인 OrderServiceImpl 에 DiscountPolicy 의 구현 객체를 대신 생성하고 주입해주어야 한다.

<br></br>

---
## AppConfig 등장
 - 애플리케이션의 전체 동작 방식을 구성(config)하기 위해, 구현 객체를 생성하고, 연결하는 책임을 가지는 별도의 설정 클래스를 만들자


## 느낀점 😌

### 참고 링크
